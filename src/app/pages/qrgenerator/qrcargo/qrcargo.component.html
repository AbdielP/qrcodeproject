<div class="container">
    <div class="grid">

        <div class="form-container">
            <!-- <div class="div-title"> -->
                <h3>Plantilla para código QR.</h3>
                <!-- <small>Agregue o elimine los campos si es es requerido.</small> -->
            <!-- </div> -->
            
            <form autocomplete="off" (ngSubmit)="showQR()" [formGroup]="form">
                <mat-form-field appearance="outline">
                    <mat-label>Agregue o elimine campos si es es requerido.</mat-label>
                     <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="30"
                     formControlName="data"></textarea>
                </mat-form-field>
                <p *ngIf="dataInvalid" class="text-danger">Este campo es requerido.</p>
                <!-- <div> -->
                    <button class="btn-generar-qr" mat-flat-button color="primary" matTooltip="Generar código QR">Generar QR
                        <mat-icon>qr_code</mat-icon>
                    </button>
                    <!-- <button type="button" (click)="resetForm()" mat-flat-button color="secondary">Resetear</button> -->
                <!-- </div> -->
                <a class="politica-link" href="http://172.18.229.227/portal-idc-cwp/index.php/documentos-idc/2015-07-20-02-24-38/435-idcplt01-201406-036-politica-para-el-area-de-carga" target="_blank">idcplt01-201406-036_politica_para_el_area_de_carga</a>
            </form>
        </div>

        <div class="dirty-msg animate__animated animate__fadeIn animate__faster" *ngIf="formDirty === true">
            <p>Presione el botón <b>"Generar QR"</b> para aplicar los cambios.</p>
        </div>
        
        <div [ngClass]="{ 'animate__animated animate__fadeOut animate__faster': formDirty === true }" *ngIf="qrcode != ''" class="qr-container">
            <div class="body-container-qr" #screen>
                <div *ngIf="qrcode != ''" class="container-qr-img">
                    <img *ngIf="qrcode" src="{{qrcode}}" alt="QR Code">
                </div>
            </div>
            <div [hidden]="true" id="download">
                <img #canvas>
                <a #downloadLink></a>
            </div>
            <a href="http://172.18.229.227/portal-idc-cwp/index.php/documentos-idc/2015-07-20-05-14-47/488-idcfrm04-201210-009-etiquetado-de-cajas-area-de-carga" target="_blank">idcfrm04-201210-009_Etiquetado_de_cajas_area_de_carga</a>
        </div>
    </div>
</div>

<button *ngIf="qrcode != '' && !formDirty" class="btn-download-qr" (click)="downloadQR()" mat-fab color="accent"
    aria-label="Example icon button with a filter list icon" matTooltip="Descargar QR">
    <mat-icon>file_download</mat-icon>
</button>